$ErrorActionPreference = " Continue\; function Run-Gate($cmd, $gateName) { try { Invoke-Expression $cmd | Out-Default; if ($LASTEXITCODE -ne 0) { throw }; Write-Output \PASS: $gateName\; return $true } catch { Write-Output \FAIL: $gateName\; return $false } }; $env:PYTHONPATH = (Resolve-Path '..').Path; $allPass = $true; $allPass = $allPass -and (Run-Gate 'python -m py_compile ..\solver.py' 'py_compile'); $allPass = $allPass -and (Run-Gate 'python .\passfail_arena.py' 'passfail_arena'); $allPass = $allPass -and (Run-Gate 'powershell -NoProfile -ExecutionPolicy Bypass -File .\self_audit.ps1' 'self_audit'); $allPass = $allPass -and (Run-Gate 'python .\surrogate_regression.py' 'surrogate_regression'); if (-not $allPass) { exit 1 }